<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<body>

	<div th:fragment="head(pageTitle)" th:remove="tag">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

        <title>[[${pageTitle}]] - [[${SITE_NAME}]]</title>
        <link rel="icon" type="image/x-icon" th:href="@{/image/favicon.ico}" />

		<link rel="stylesheet" type="text/css" th:href="@{/css/fonts.css}" ></link>
        <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" ></link>
         <link rel="stylesheet" type="text/css" th:href="@{/css/modal.css}" ></link>
        
        <link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/css/all.min.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap-select/css/bootstrap-select.min.css}">
        
         <link rel="stylesheet" type="text/css" th:href="@{/richText/richtext.min.css}" ></link>

	</div>
	
	<div th:fragment="scripts" th:remove="tag">
		<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
		<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
		<script th:src="@{/webjars/font-awesome/js/all.min.js}"></script>
		<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
		<script th:src="@{/webjars/bootstrap-select/js/bootstrap-select.min.js}"></script>
		
		<script th:src="@{/js/main-script.js}"></script>
		<script th:src="@{/richText/jquery.richtext.min.js}"></script>
	</div>

	<div th:fragment="navigation">
		<nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
			<div class="container px-4 px-lg-5">

				<a class="navbar-brand" th:href="@{/}"> 
					<img alt="JaBlog" th:src="@{${GCP_Base_URI+SITE_LOGO}}" height="15%" width="15%">
				</a>
				
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					Menu <i class="fas fa-bars"></i>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ms-auto py-4 py-lg-0">
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/}">Home</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/about}">About</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/view/categories/list}">Categories</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/view/posts/list}">Blogs</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{contact}">Contact</a></li>
						
						<th:block sec:authorize="isAnonymous()">
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/login}">Login</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/blogger/signup}">signup</a></li>
						</th:block>
						
						<th:block sec:authorize="isAuthenticated()">
						
						<li class="nav-item dropdown p-3">
							<a class="nav-link dropdown-toggle" th:href="@{/manage-table}" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Posts </a>
							<ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
								<li><a class="dropdown-item" th:href="@{/post/list}">List Posts</a></li>
								<li><a class="dropdown-item" th:href="@{/post/new}">Add New Post</a></li>
							</ul>
						</li>
						
						<li class="nav-item dropdown p-3">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<i class="fa-solid fa-user"></i> 
								<th:block sec:authentication="principal.fullName"></th:block>
							</a>
							<ul class="dropdown-menu dropdown-menu-dark">
								<li><a class="dropdown-item" th:href="@{/account/details}">Profile</a></li>
								<li>
									<form th:action="@{/logout}" method="POST">
										<button type="submit" class="dropdown-item">
											Logout
										</button>
									</form>
								</li>
							</ul>
						</li>
						</th:block>
						
					</ul>
				</div>
				
			</div>
		</nav>
	</div>
	
	<div th:fragment="loginNav">
		<nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
			<div class="container px-4 px-lg-5">

				<a class="navbar-brand" th:href="@{/}"> 
					<img alt="JaBlog" th:src="@{${GCP_Base_URI+SITE_LOGO}}" height="15%" width="15%">
				</a>
				
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					Menu <i class="fas fa-bars"></i>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ms-auto py-4 py-lg-0">
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/}">Home</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/about}">About</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{contact}">Contact</a></li>
						
						<th:block sec:authorize="isAnonymous()">
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/login}">Login</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/blogger/signup}">signup</a></li>
						</th:block>
						
						<th:block sec:authorize="isAuthenticated()">
						<li class="nav-item dropdown p-3">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<i class="fa-solid fa-user"></i> 
								<th:block sec:authentication="principal.fullName"></th:block>
							</a>
							<ul class="dropdown-menu dropdown-menu-dark">
								<li><a class="dropdown-item" th:href="@{/account/details}">Profile</a></li>
								<li>
									<form th:action="@{/logout}" method="POST">
										<button type="submit" class="dropdown-item">
											Logout
										</button>
									</form>
								</li>
							</ul>
						</li>
						</th:block>
						
					</ul>
				</div>
				
			</div>
		</nav>
	</div>
	
	<div th:fragment="profileNav">
		
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="adminNav">
			<div class="container">
			
				<a class="navbar-brand" th:href="@{/}" style="width: 65%"> 
					<img alt="JaBlog" th:src="@{${GCP_Base_URI+SITE_LOGO}}" width="15%">
				</a>
				
				<button class="navbar-toggler" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown"
					aria-controls="navbarNavDarkDropdown" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				
				
				<div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
				
					<ul class="navbar-nav ms-auto py-4 py-lg-0">
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/}">Home</a></li>
						<li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" th:href="@{/about}">About</a></li>
					</ul>
					
					<th:block sec:authorize="isAuthenticated()">
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" th:href="@{/manage-table}" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false"> Posts </a>
							<ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
								<li><a class="dropdown-item" th:href="@{/post/list}">List Posts</a></li>
								<li><a class="dropdown-item" th:href="@{/post/new}">Add New Post</a></li>
							</ul>
						</li>
					</ul>
					
					<ul class="navbar-nav">
						<li class="nav-item dropdown p-3">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<i class="fa-solid fa-user"></i> 
								<th:block sec:authentication="principal.fullName"></th:block>
							</a>
							
							<ul class="dropdown-menu dropdown-menu-dark">
								<li><a class="dropdown-item" th:href="@{/account/details}">Profile</a></li>
								<li>
									<form th:action="@{/logout}" method="POST">
										<button type="submit" class="dropdown-item">
											Logout
										</button>
									</form>
								</li>
							</ul>
						</li>
					</ul>
					
					</th:block>
				</div>
				
			</div>
		</nav>
	</div>
	
	<div th:fragment="pageHeader">
		<header class="masthead" th:style="'background-image: url(' + @{/image/home-bg.jpg} + ')'">
			<div class="container position-relative px-4 px-lg-5">
				<div class="row gx-4 gx-lg-5 justify-content-center">
					<div class="col-md-10 col-lg-8 col-xl-7">

						<div class="site-heading">
							<h1>Java Blog</h1>
							<span class="subheading">More about Java and Spring</span>
						</div>
						<br>

						<div class="searchBar">
							<form th:action="@{/view/posts/page/1}" method="get" id="contactForm">
								<div class="input-group ">
								<input type="hidden" name="sortField" th:value="published_time">
								<input type="hidden" name="sortDir" th:value="${sortDir}">
									<input type="search" name="keyword" th:value="${keyword}" class="form-control border rounded-pill" id="floatingInput" placeholder="Search .."> 
									<span class="input-group-append">
										<button class="btn btn-outline-secondary bg-white border-bottom-0 border rounded-pill"
											style="margin-left: -60px; z-index: 5;" type="submit">
											<i class="fa fa-search"></i>
										</button>
									</span>
								</div>
							</form>
						</div>

					</div>
				</div>
			</div>
		</header>
	</div>
	
	<div th:fragment="pageHeaderWithoutSearch">
		<header class="head-without-search" th:style="'background-image: url(' + @{/image/home-bg.jpg} + ')'"></header>
	</div>
	
	
	
	<div th:fragment="footer">
		<footer class="border-top">
			<div class="container px-4 px-lg-5">
				<div class="row gx-4 gx-lg-5 justify-content-center">
					<div class="col-md-10 col-lg-8 col-xl-7">
						<ul class="list-inline text-center">
							<li class="list-inline-item"><a href="#!"> <span
									class="fa-stack fa-lg"> <i
										class="fas fa-circle fa-stack"></i> <i
										class="fab fa-twitter fa-stack-1x fa-inverse"></i>
								</span>
							</a></li>

							<li class="list-inline-item"><a href="#!"> <span
									class="fa-stack fa-lg"> <i
										class="fas fa-circle fa-stack"></i> <i
										class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
								</span>
							</a></li>
							<li class="list-inline-item"><a href="#!"> <span
									class="fa-stack fa-lg"> <i
										class="fas fa-circle fa-stack"></i> <i
										class="fab fa-github fa-stack-1x fa-inverse"></i>
								</span>
							</a></li>
						</ul>

						<div class="small text-center text-muted fst-italic" th:utext="${COPYRIGHT}"></div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	
	<div th:fragment="alert(body)">
		<div class="alert alert-danger d-flex align-items-center" role="alert">
		  	<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"/></svg>
			  <div>
			    [[${body}]]
			  </div>
		</div>
	</div>
	
	<div th:fragment="successAlert(body)">
		<div class="alert alert-success d-flex align-items-center" role="alert">
		  <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
		  <div>
		    [[${body}]]
		  </div>
		</div>
	</div>
	
	<div th:fragment="passwordField(id, name)">
		<small id="passwordHelpBlock" class="form-text text-muted">
			Must be 8-20 characters, must contain special characters, numbers, lower and upper letters only.
		</small>
		<input type="password" class="form-control" th:id="${id}" minlength="8" th:name="${name}" required>
		<div class="progress" style="height: 5px;">
		    <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 10%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
		<div id="feedbackin" class="valid-feedback">
			Strong Password!
		</div>
		<div id="feedbackirn" class="invalid-feedback">
			Atlead 8 characters,
			Number, special character 
			Caplital Letter and Small letters
		</div>  
	</div>
	
</body>
</html>